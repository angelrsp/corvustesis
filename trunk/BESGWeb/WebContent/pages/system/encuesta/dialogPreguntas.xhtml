<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">


	<p:dialog widgetVar="dlgPreguntas" width="900" minHeight="40" modal="true" appendTo="@(body)" header="Preguntas">
	
	<h:form id="frmPreguntas">
	
		<p:panel id="pnlPreguntas">
			<table>
				<tr>
					<td><h:outputText value="Nombre:" /></td>
					<td><h:inputTextarea style="width: 300px;" value="#{createEncuestaDataManager.preguntaDTO.preDescripcion}" /></td>
				</tr>

				<tr>
					<td><h:outputText value="Orden:" /></td>
					<td><h:inputText value="#{createEncuestaDataManager.preguntaDTO.preOrden}" /></td>
				</tr>
				
				<tr>
					<td><h:outputText value="Control:" /></td>
					<td>
						<p:selectOneMenu value="#{createEncuestaDataManager.controlCode}">
							<f:selectItem itemLabel="--Seleccione--"/>
							<f:selectItems value="#{createEncuestaDataManager.controlList}" var="con" itemValue="#{con.conCodigo}" itemLabel="#{con.conDescripcion}"/>
						</p:selectOneMenu>
					</td>
				</tr>
				
				<tr align="center">
					<td colspan="4"><p:commandButton value="Guardar" actionListener="#{createEncuestaController.onClickSavePregunta}" update="pnlPreguntas"/> </td>
				</tr>				
			</table>
		
			<p:dataTable id="tblPreguntas" value="#{createEncuestaDataManager.preguntaList}" var="pre">
			
				<p:column headerText="Nombre">
			        <h:outputText value="#{pre.preDescripcion}" />
			    </p:column>		

				<p:column headerText="Orden">
			        <h:outputText value="#{pre.preOrden}" />
			    </p:column>		

				<p:column headerText="Control">
			        <h:outputText value="#{pre.cueControl.conDescripcion}" />
			    </p:column>		


			
				<p:column width="35">
			        <p:commandButton title="Editar" icon="ui-icon-pencil" actionListener="#{createEncuestaController.onClickEditPregunta(pre)}" process="@this" update=":frmPreguntas:pnlPreguntas"/>
			    </p:column>		

				<p:column width="35">
			        <p:commandButton title="Respuestas" icon="ui-icon-document" actionListener="#{createEncuestaController.onClickViewRespuesta(pre)}" update=":frmRespuesta:tblRespuesta"/>
			    </p:column>		
			
			</p:dataTable>		
		</p:panel>
	
	</h:form>
	</p:dialog>
	
</ui:composition>