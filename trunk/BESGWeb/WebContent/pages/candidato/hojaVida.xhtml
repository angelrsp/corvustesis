<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">

<h:head></h:head>
<body>

	<ui:composition template="/WEB-INF/template/plataformaCandidato.xhtml">
		<ui:define name="contenido">
		
 			<h:form id="contenido" enctype="multipart/form-data">
			  
				<p:panel header="Subir Foto">
			  
        	     <p:fileUpload  mode="advanced" dragDropSupport="false"  
                  update="growl,foto" sizeLimit="1000000" fileLimit="1" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" label="Seleccionar..." uploadLabel="Subir" cancelLabel="Cancelar" />			
		
				</p:panel>
				
			
				<p:growl id="growl" showDetail="true" />
								
				
				<p:panel id="pnlDatos" styleClass="tabla"
					header="#{i18n['label.titulo.pantalla.dato.candidato']}">
					<table>
						<tr>
							<td><h:outputLabel value="#{i18n['label.foto']}:&#160;" /> </td>
							<td colspan="3"><p:graphicImage id="foto" value="#{imagenCandidatoController.image}" height="150" cache="false" /></td>	
						</tr>					
						<tr>
							<td><h:outputLabel value="#{i18n['label.tipo.documento']}:&#160;" /> </td>
								<td>
									<p:selectOneMenu required="true" requiredMessage="#{i18n['label.tipo.documento']}:&#160;#{i18n['label.requerido']}" value="#{candidatoDataManager.codigotipo}">
										<f:selectItem itemLabel="#{i18n['combo.seleccionar']}" itemValue=""/>
										<f:selectItems value="#{candidatoController.candidatoDataManager.tipoDocumentoListDTOs}" var="tipo"   itemLabel="#{tipo.catDescripcion}"    itemValue="#{tipo.catCodigo}"  ></f:selectItems>
									</p:selectOneMenu>
								</td>
							<td><h:outputLabel value="#{i18n['label.ci.pasaporte']}:&#160;" /> </td>
							<td><p:inputText required="true"
									requiredMessage="#{i18n['label.ci.pasaporte']}&#160;#{i18n['label.requerido']}"
									value="#{candidatoDataManager.candidatoListDTO.canIdentificacion}" onkeypress="return isNumberKey(event);"/></td>
						</tr>
						<tr>
							<td><h:outputLabel value="#{i18n['label.apellidos']}:&#160;" /> </td>
							<td><p:inputText required="true"
									requiredMessage="#{i18n['label.apellidos']}&#160;#{i18n['label.requerido']}"
									value="#{candidatoDataManager.candidatoListDTO.canApellidos}"/></td>
							<td><h:outputLabel value="#{i18n['label.nombres']}:&#160;" /> </td>
							<td><p:inputText required="true"
									requiredMessage="#{i18n['label.nombres']}&#160;#{i18n['label.requerido']}"
									value="#{candidatoDataManager.candidatoListDTO.canNombres}"/></td>		
						</tr>
						<tr>
							<td><h:outputLabel value="#{i18n['label.email']}:&#160;" /> </td>
							<td colspan="3"><p:inputText style="width : 90%;" required="true"
									requiredMessage="#{i18n['label.contrasenia']}&#160;#{i18n['label.requerido']}"
									/></td>
									
						</tr>

						<tr>
							<td><h:outputLabel value="#{i18n['label.estado.civil']}:&#160;" /> </td>
							<td>	<p:selectOneMenu value="#{candidatoDataManager.codigoEstadoCivil}" required="true" requiredMessage="#{i18n['label.estado.civil']}:&#160;#{i18n['label.requerido']}">
										<f:selectItem itemLabel="#{i18n['combo.seleccionar']}" itemValue=""/>
										<f:selectItems value="#{candidatoDataManager.estadoCivilListDTOs}" var="estciv"   itemLabel="#{estciv.catDescripcion}"    itemValue="#{estciv.catCodigo}" />										
									</p:selectOneMenu></td>
									
							<td><h:outputLabel value="#{i18n['label.genero']}:&#160;" /> </td>
							<td>	<p:selectOneMenu value="#{candidatoDataManager.codigoSexo}" required="true" requiredMessage="#{i18n['label.genero']}:&#160;#{i18n['label.requerido']}">
										<f:selectItem itemLabel="#{i18n['combo.seleccionar']}" itemValue=""/>
										<f:selectItems value="#{candidatoDataManager.generoListDTOs}" var="sexo"   itemLabel="#{sexo.catDescripcion}"    itemValue="#{sexo.catCodigo}" />										
									</p:selectOneMenu></td>
						</tr>

						<tr>
							<td><h:outputLabel value="#{i18n['label.fecha.nacimiento']}:&#160;" /> </td>
							<td><p:calendar value="#{candidatoDataManager.fechaNac}" navigator="true" requiredMessage="#{i18n['label.fecha.nacimiento']}:&#160;#{i18n['label.requerido']}" pattern="#{i18n['pattern.fecha']}" required="true"  placeholder="AAAA/MM/DD"></p:calendar></td>
							
							<td><h:outputLabel value="#{i18n['label.lugar.nacimiento']}:&#160;" /> </td>
							<td><p:inputText value="#{candidatoDataManager.candidatoListDTO.canLugarNacimiento}" requiredMessage="#{i18n['label.lugar.nacimiento']}:&#160;#{i18n['label.requerido']}" required="true"></p:inputText></td>
						</tr>

						<tr>
							<td colspan="4" align="center">
								<p:commandButton actionListener="#{candidatoController.actualizar}" value="#{i18n['boton.actualizar']}" process="pnlDatos" update="growl,pnlDatos" /> </td>
						</tr>
					</table>
				</p:panel>

			
				<p:panel id="pnlEstudios" styleClass="tabla"
					header="#{i18n['label.titulo.pantalla.dato.estudios']}">
					<p:accordionPanel activeIndex="null">
					<p:tab title="#{i18n['boton.agregar']}">  
					<table>
						<tr>
							<td><h:outputLabel
									value="#{i18n['label.nivel.estudio']}:&#160;" /></td>
							<td><p:selectOneMenu value="#{candidatoDataManager.codigoNivEst}" required="true" requiredMessage="#{i18n['label.nivel.estudio']}:&#160;#{i18n['label.requerido']}" >
									<f:selectItem itemLabel="#{i18n['combo.seleccionar']}" itemValue="0" />
									<f:selectItems value="#{candidatoController.candidatoDataManager.nivEstListDTOs}"  var="nivEst"  itemLabel="#{nivEst.catDescripcion}" itemValue="#{nivEst.catCodigo}"></f:selectItems>
									<p:ajax listener="#{candidatoController.buscarEspecialidad}" process="@this" update="somEspecialidad"/>
								</p:selectOneMenu></td>
						
								
						<td><h:outputLabel	value="#{i18n['label.especialidad']}:&#160;" /></td>
							<td><p:selectOneMenu id="somEspecialidad" 
									requiredMessage="#{i18n['label.especialidad']}:&#160;#{i18n['label.requerido']}" value="#{candidatoDataManager.codigoEspecialidad}">
									<f:selectItem itemLabel="#{i18n['combo.seleccionar']}" itemValue="" />
									<f:selectItems value="#{(candidatoDataManager.codigoNivEst.toString()=='23')?candidatoDataManager.codigoEspTercero:candidatoDataManager.codigoEspCuarto}"></f:selectItems>
																			
								</p:selectOneMenu>							
							</td>	
						</tr>
						<tr>	
							<td><h:outputLabel value="#{i18n['label.carrera']}:&#160;" /></td>
							<td><p:inputText id="carrera" value="#{candidatoDataManager.estudioInsertar.habCarrera}" disabled="#{candidatoDataManager.codigoNivEst.toString()!='24'}"></p:inputText></td>								
							<td><h:outputLabel value="#{i18n['label.establecimiento']}:&#160;" /></td>
							<td><p:inputText id="establecimiento" value="#{candidatoDataManager.estudioInsertar.habEntidad}" disabled="#{candidatoDataManager.codigoNivEst.toString()!='24'}"></p:inputText></td>
					</tr>	
						<tr>	
							<td><h:outputLabel value="#{i18n['label.pais']}:&#160;" /></td>
							<td><p:selectOneMenu id="pais" required="#{candidatoDataManager.codigoNivEst.toString()=='24'}" disabled="#{candidatoDataManager.codigoNivEst.toString()!='24'}"
									requiredMessage="#{i18n['label.pais']}:&#160;#{i18n['label.requerido']}" value="#{candidatoDataManager.codigoPais}">
									<f:selectItem itemLabel="#{i18n['combo.seleccionar']}" itemValue="" />
									<f:selectItems value="#{candidatoDataManager.paisListDTOs}" var="pais" itemLabel="#{pais.catDescripcion}" itemValue="#{pais.catCodigo}"></f:selectItems>	
								</p:selectOneMenu></td>
							<td><h:outputLabel value="#{i18n['label.registro.senecyt']}:&#160;" /></td>
							<td><p:inputText id="registro" value="#{candidatoDataManager.estudioInsertar.habRegistro}" disabled="#{candidatoDataManager.codigoNivEst.toString()=='22'||candidatoDataManager.codigoNivEst.toString()=='0'}" /></td>						
						</tr>
						
					  	<tr>
				  			<td><h:outputLabel value="#{i18n['label.fecha.inicio']}:&#160;" /></td>
					  		<td><p:calendar value="#{candidatoDataManager.fechaInicio}" navigator="true" requiredMessage="#{i18n['label.fecha.inicio']}:&#160;#{i18n['label.requerido']}" pattern="#{i18n['pattern.fecha']}" required="true" maxdate="#{candidatoDataManager.fechaInicio}" placeholder="AAAA/MM/DD"></p:calendar></td>

				  			<td><h:outputLabel value="#{i18n['label.fecha.fin']}:&#160;" /></td>
					  		<td><p:calendar value="#{candidatoDataManager.fechaFin}" navigator="true" requiredMessage="#{i18n['label.fecha.fin']}:&#160;#{i18n['label.requerido']}" pattern="#{i18n['pattern.fecha']}" required="true" maxdate="#{candidatoDataManager.fechaFin}" placeholder="AAAA/MM/DD"></p:calendar></td>
					  		
					  	</tr>
					   	<!--  
					  	<tr align="center">
							<td colspan="4"><p:commandButton value="#{i18n['boton.agregar']}" process="pnlEstudios" update="pnlEstudios,growl" actionListener="#{candidatoController.agregarEstudio}"></p:commandButton></td>					  	
					  	</tr>
					  	-->
					</table>
					</p:tab>
					</p:accordionPanel>
					<p:spacer height="5"/>
					
					<p:dataTable id="tblEstudio" value="#{candidatoDataManager.estudioDtos}" var="est" emptyMessage="#{i18n['table.campo.obligatorio']}">
					
						<p:column headerText="#{i18n['label.nivel.estudio']}">
							<h:outputText value="#{est.habNivel}" />
						</p:column>
						<p:column headerText="#{i18n['label.especialidad']}">
							<h:outputText value="#{est.especialidad}" />
						</p:column>
						<p:column headerText="#{i18n['label.carrera']}">
							<h:outputText value="#{est.habCarrera}" />
						</p:column>
						<p:column headerText="#{i18n['label.establecimiento']}">
							<h:outputText value="#{est.habEntidad}" />
						</p:column>
						<p:column headerText="#{i18n['label.pais']}">
							<h:outputText value="#{est.pais}" />
						</p:column>
						<p:column headerText="#{i18n['label.registro.senecyt']}">
							<h:outputText value="#{est.habRegistro}" />
						</p:column>						
						<p:column headerText="#{i18n['label.fecha.inicio']}">
							<h:outputText value="#{fn:substring(est.habFechaInicio,0,10)}" />
						</p:column>
						<p:column headerText="#{i18n['label.fecha.fin']}">
							<h:outputText value="#{fn:substring(est.habFechaFin,0,10)}" />
						</p:column>

											
						<p:column headerText="#{i18n['label.eliminar']}" width="15">
							<p:commandButton actionListener="#{candidatoController.onRowDelEstudio(est)}" icon="ui-icon-close" 
								immediate="true" onclick="if(!confirm('Eliminar?')) return false;" update=":contenido:tblEstudio,:contenido:growl"  process=":contenido:tblEstudio">
							</p:commandButton>
						</p:column>
					</p:dataTable>
					
				</p:panel>

<!--  
				<p:panel id="pnlCursos" styleClass="tabla" header="#{i18n['label.titulo.pantalla.dato.cursos.realizados']}">
					<p:accordionPanel activeIndex="null">
						<p:tab title="#{i18n['boton.agregar']}">
						  
						  <table>
						  	<tr>
					  			<td><h:outputLabel value="#{i18n['label.entidad']}:&#160;" /></td>
								<td><p:inputText value="#{candidatoController.curso.curEntidad}" requiredMessage="#{i18n['label.entidad']}:&#160;#{i18n['label.requerido']}" required="true"></p:inputText></td>					  			
						  	</tr>
						  	<tr>
					  			<td><h:outputLabel value="#{i18n['label.descripcion']}:&#160;" /></td>
								<td><p:inputTextarea value="#{candidatoController.curso.curDescripcion}" requiredMessage="#{i18n['label.descripcion']}:&#160;#{i18n['label.requerido']}" required="true" autoResize="false"/></td>					  			
						  	</tr>
						  	<tr>
					  			<td><h:outputLabel value="#{i18n['label.fecha.inicio']}:&#160;" /></td>
						  		<td><p:calendar value="#{candidatoController.fechaInicioCurso}" navigator="true" requiredMessage="#{i18n['label.fecha.inicio']}:&#160;#{i18n['label.requerido']}" pattern="#{i18n['pattern.fecha']}" required="true" maxdate="#{candidatoController.fechaMaximoActual}" placeholder="AAAA/MM/DD"></p:calendar></td>

					  			<td><h:outputLabel value="#{i18n['label.fecha.fin']}:&#160;" /></td>
						  		<td><p:calendar value="#{candidatoController.fechaFinCurso}" navigator="true" requiredMessage="#{i18n['label.fecha.fin']}:&#160;#{i18n['label.requerido']}" pattern="#{i18n['pattern.fecha']}" required="true" maxdate="#{candidatoController.fechaMaximoActual}" placeholder="AAAA/MM/DD"></p:calendar></td>
							</tr>						  		
						  	<tr>
							  	<td colspan="3">
									 <p:fileUpload fileUploadListener="#{candidatoController.handleFileUploadCurso}" mode="advanced" dragDropSupport="false"  
	                  					 update="growlCur" sizeLimit="1000000" fileLimit="1" allowTypes="/(\.|\/)(pdf)$/" label="Seleccionar..." uploadLabel="Subir" cancelLabel="Cancelar"/>
	                  				<p:growl id="growlCur" />	 						  	
							  	</td>
						  	</tr>						  								  		
						  		
						  	<tr align="center">
						  		<td colspan="4"><p:commandButton value="#{i18n['boton.agregar']}" process=":contenido:pnlCursos" update=":contenido:pnlCursos,:contenido:growl" actionListener="#{candidatoController.agregarCurso}"></p:commandButton></td>
						  	</tr>
						  </table>
						  
						</p:tab>				
					</p:accordionPanel>
					
					<p:spacer height="5"/>
					
					<p:dataTable id="tblCurso" value="#{candidatoController.cursoList}" var="cur" emptyMessage="#{i18n['table.campo.obligatorio']}">
					
						<p:column headerText="#{i18n['label.entidad']}">
							<h:outputText value="#{cur.curEntidad}" />
						</p:column>

						<p:column headerText="#{i18n['label.descripcion']}">
							<h:outputText value="#{cur.curDescripcion}" />
						</p:column>

						<p:column headerText="#{i18n['label.fecha.inicio']}">
							<h:outputText value="#{fn:substring(cur.curFechaInicio,0,10)}" />
						</p:column>

						<p:column headerText="#{i18n['label.fecha.fin']}">
							<h:outputText value="#{fn:substring(cur.curFechaFin,0,10)}" />
						</p:column>

						<p:column headerText="#{i18n['label.descargar']}" width="15">
							<p:commandButton actionListener="#{candidatoController.descargarCurso(cur)}" icon="ui-icon-arrowthick-1-s" ajax="false" 
								immediate="true" update=":contenido:growl" disabled="#{cur.curArchivo==null}">
							</p:commandButton>
						</p:column>
					
						<p:column headerText="#{i18n['label.eliminar']}" width="15">
							<p:commandButton actionListener="#{candidatoController.onRowDelCurso(cur)}" icon="ui-icon-close" 
								immediate="true" onclick="if(!confirm('Eliminar?')) return false;" update=":contenido:tblCurso,:contenido:growl" process=":contenido:tblCurso">
							</p:commandButton>
						</p:column>
					
					
					</p:dataTable>
					
				</p:panel>

				<p:panel id="pnlAdicional" styleClass="tabla"
					header="#{i18n['label.titulo.pantalla.dato.conocimiento.adicional']}">
					<p:accordionPanel activeIndex="null">
						<p:tab title="#{i18n['boton.agregar']}">
						
						<table>
						  	<tr>
						  	
					  			<td><h:outputLabel value="#{i18n['label.nombre']}:&#160;" /></td>
								<td><p:inputText value="#{candidatoController.adicional.proNombre}" requiredMessage="#{i18n['label.nombre']}:&#160;#{i18n['label.requerido']}" required="true"></p:inputText></td>

					  			<td><h:outputLabel value="#{i18n['label.descripcion']}:&#160;" /></td>
								<td><p:inputTextarea value="#{candidatoController.adicional.proDescripcion}" requiredMessage="#{i18n['label.descripcion']}:&#160;#{i18n['label.requerido']}" required="true" autoResize="false" maxlength="255"/></td>					  											
													  			
						  	</tr>
						  	
						  	<tr>
							  	<td colspan="3">
									 <p:fileUpload fileUploadListener="#{candidatoController.handleFileUploadAdicional}" mode="advanced" dragDropSupport="false"  
	                  					 update="growlEst" sizeLimit="1000000" fileLimit="1" allowTypes="/(\.|\/)(pdf)$/" label="Seleccionar..." uploadLabel="Subir" cancelLabel="Cancelar"/>
	                  				<p:growl id="growlEst" />	 						  	
							  	</td>
						  	</tr>						  								  								  	
						  	
						  	<tr align="center">
						  		<td colspan="4"><p:commandButton value="#{i18n['boton.agregar']}" process=":contenido:pnlAdicional" update=":contenido:pnlAdicional" actionListener="#{candidatoController.agregarAdicional}"></p:commandButton></td>
						  	</tr>						  	
						</table>
						  
						</p:tab>				
					</p:accordionPanel>

					<p:spacer height="5"/>
					
					<p:dataTable id="tblAdicional" value="#{candidatoController.adicionalList}" var="adi" emptyMessage="#{i18n['table.campo.obligatorio']}">
					
						<p:column headerText="#{i18n['label.nombre']}">
							<h:outputText value="#{adi.proNombre}" />
						</p:column>

						<p:column headerText="#{i18n['label.descripcion']}">
							<h:outputText value="#{adi.proDescripcion}" />
						</p:column>
											
						<p:column headerText="#{i18n['label.descargar']}" width="15">
							<p:commandButton actionListener="#{candidatoController.descargarAdicional(adi)}" icon="ui-icon-arrowthick-1-s" ajax="false" 
								immediate="true" update=":contenido:growl" disabled="#{adi.adiArchivo==null}">
							</p:commandButton>
						</p:column>
					
						<p:column headerText="#{i18n['label.eliminar']}" width="15">
							<p:commandButton actionListener="#{candidatoController.onRowDelAdicional(adi)}" icon="ui-icon-close" 
								immediate="true" onclick="if(!confirm('Eliminar?')) return false;" update=":contenido:tblAdicional" process=":contenido:tblAdicional">
							</p:commandButton>
						</p:column>
					
					</p:dataTable>


				</p:panel>

				<p:panel id="pnlExperiencia" styleClass="tabla"
					header="#{i18n['label.titulo.pantalla.dato.experiencia']}">
					<p:accordionPanel activeIndex="null">
					<p:tab title="#{i18n['boton.agregar']}">  
					<table>
						<tr>
							<td><h:outputLabel value="#{i18n['label.empresa']}:&#160;" /></td>
							<td><p:inputText value="#{candidatoController.experiencia.expEntidad}" required="true" requiredMessage="#{i18n['label.empresa']}:&#160;#{i18n['label.requerido']}"></p:inputText></td>
							<td><h:outputLabel
									value="#{i18n['label.fecha.inicio']}:&#160;" /></td>
							<td><p:calendar pattern="#{i18n['pattern.fecha']}" value="#{candidatoController.fechaInicioExp}" required="true" requiredMessage="#{i18n['label.fecha.inicio']}:&#160;#{i18n['label.requerido']}" maxdate="#{candidatoController.fechaMaximoActual}" placeholder="AAAA/MM/DD"></p:calendar>
							</td>
							<td><h:outputLabel value="#{i18n['label.fecha.fin']}:&#160;" /></td>
							<td><p:calendar pattern="#{i18n['pattern.fecha']}" value="#{candidatoController.fechaFinExp}" required="true" requiredMessage="#{i18n['label.fecha.fin']}:&#160;#{i18n['label.requerido']}" maxdate="#{candidatoController.fechaMaximoActual}" placeholder="AAAA/MM/DD"></p:calendar>
							</td>
						</tr>
						<tr>
							<td><h:outputLabel value="#{i18n['label.tareas']}:&#160;" /></td>
							<td><p:inputText value="#{candidatoController.experiencia.expTareas}"></p:inputText></td>
							<td><h:outputLabel value="#{i18n['label.puesto']}:&#160;" /></td>
							<td><p:inputText value="#{candidatoController.experiencia.expPuesto}"></p:inputText></td>
						</tr>
						<tr>
							<td><h:outputLabel
									value="#{i18n['label.sector.empresa']}:&#160;" /></td>
							<td><p:selectOneMenu required="true" value="#{candidatoController.tipoEmpresa}"
									requiredMessage="#{i18n['label.sector.empresa']}:&#160;#{i18n['label.requerido']}">
									<f:selectItem itemLabel="#{i18n['combo.seleccionar']}" itemValue="" />
									<f:selectItems value="#{candidatoController.catalogoTipoEmpresa}"></f:selectItems>	
								</p:selectOneMenu></td>
						</tr>
						
					  	<tr>
						  	<td colspan="3">
								 <p:fileUpload fileUploadListener="#{candidatoController.handleFileUploadExperiencia}" mode="advanced" dragDropSupport="false"  
                  					 update="growlExp" sizeLimit="1000000" fileLimit="1" allowTypes="/(\.|\/)(pdf)$/" label="Seleccionar..." uploadLabel="Subir" cancelLabel="Cancelar"/>
                  				<p:growl id="growlExp" />	 						  	
						  	</td>
					  	</tr>						  								  								  	
						
						
						<tr align="center">
							<td colspan="4"><p:commandButton value="#{i18n['boton.agregar']}" process=":contenido:pnlExperiencia" update=":contenido:pnlExperiencia,:contenido:growl" actionListener="#{candidatoController.agregarExperiencia}"></p:commandButton></td>						
						</tr>
					</table>
				</p:tab>
				</p:accordionPanel>
				
					<p:spacer height="5"/>
					
					<p:dataTable id="tblExperiencia" value="#{candidatoController.experienciaList}" var="exp" emptyMessage="#{i18n['table.campo.obligatorio']}">
					
						<p:column headerText="#{i18n['label.empresa']}">
							<h:outputText value="#{exp.expEntidad}" />
						</p:column>
						<p:column headerText="#{i18n['label.fecha.inicio']}">
							<h:outputText value="#{fn:substring(exp.expFechaInicio,0,10)}" />
						</p:column>
						<p:column headerText="#{i18n['label.fecha.fin']}">
							<h:outputText value="#{fn:substring(exp.expFechaFin,0,10)}" />
						</p:column>
						<p:column headerText="#{i18n['label.tareas']}">
							<h:outputText value="#{exp.expTareas}" />
						</p:column>
						<p:column headerText="#{i18n['label.puesto']}">
							<h:outputText value="#{exp.expPuesto}" />
						</p:column>
						<p:column headerText="#{i18n['label.sector.empresa']}">
							<h:outputText value="#{exp.catTipoEmpresa}" />
						</p:column>

						<p:column headerText="#{i18n['label.descargar']}" width="15">
							<p:commandButton actionListener="#{candidatoController.descargarExperiencia(exp)}" icon="ui-icon-arrowthick-1-s" ajax="false" 
								immediate="true" update=":contenido:growl" disabled="#{exp.expArchivo==null}">
							</p:commandButton>
						</p:column>
						
						<p:column headerText="#{i18n['label.eliminar']}" width="15">
							<p:commandButton actionListener="#{candidatoController.onRowDelExperiencia(exp)}" icon="ui-icon-close" immediate="true"
								onclick="if(!confirm('Eliminar?')) return false" process=":contenido:tblExperiencia" update=":contenido:tblExperiencia,:contenido:growl"></p:commandButton>
						</p:column>
						
					</p:dataTable>					

				</p:panel>

				<p:panel id="pnlReferencia" styleClass="tabla"
					header="#{i18n['label.titulo.pantalla.dato.referencia']}">
					<p:accordionPanel activeIndex="null">
					<p:tab title="#{i18n['boton.agregar']}">  					
					<table>
						<tr>
							<td><h:outputText
									value="#{i18n['label.nombre.completo']}:&#160;" /></td>
							<td><p:inputText value="#{candidatoController.referencia.refNombre}" required="true"
							requiredMessage="#{i18n['label.nombre.completo']}:&#160;#{i18n['label.requerido']}"></p:inputText></td>
							<td><h:outputText value="#{i18n['label.telefono']}:&#160;" /></td>
							<td><p:inputText value="#{candidatoController.referencia.refTelefono}" required="true"
							requiredMessage="#{i18n['label.telefono']}:&#160;#{i18n['label.requerido']}"></p:inputText></td>
						</tr>
						<tr>
							<td><h:outputText value="#{i18n['label.email']}:&#160;" /></td>
							<td><p:inputText value="#{candidatoController.referencia.refMail}" required="true" requiredMessage="#{i18n['label.email']}:&#160;#{i18n['label.requerido']}">
								<f:validator validatorId="emailValidator"></f:validator>
								</p:inputText></td>
						</tr>
						
					  	<tr>
						  	<td colspan="3">
								 <p:fileUpload fileUploadListener="#{candidatoController.handleFileUploadReferencia}" mode="advanced" dragDropSupport="false"  
                  					 update="growlRef" sizeLimit="1000000" fileLimit="1" allowTypes="/(\.|\/)(pdf)$/" label="Seleccionar..." uploadLabel="Subir" cancelLabel="Cancelar"/>
                  				<p:growl id="growlRef" />	 						  	
						  	</td>
					  	</tr>						  								  								  							
						
						<tr align="center">
							<td colspan="4"><p:commandButton actionListener="#{candidatoController.agregarReferencia}" value="#{i18n['boton.agregar']}" process=":contenido:pnlReferencia" update=":contenido:pnlReferencia"></p:commandButton></td>
						</tr>
					</table>
					</p:tab>
					</p:accordionPanel>
					
					<p:spacer height="5"/>
					
					<p:dataTable id="tblReferencia" value="#{candidatoController.listReferencia}" var="ref" emptyMessage="#{i18n['table.campo.obligatorio']}">
					
						<p:column headerText="#{i18n['label.nombre.completo']}">
							<h:outputText value="#{ref.refNombre}" />
						</p:column>

						<p:column headerText="#{i18n['label.telefono']}">
							<h:outputText value="#{ref.refNombre}" />
						</p:column>

						<p:column headerText="#{i18n['label.email']}">
							<h:outputText value="#{ref.refMail}" />
						</p:column>

						<p:column headerText="#{i18n['label.descargar']}" width="15">
							<p:commandButton actionListener="#{candidatoController.descargarReferencia(ref)}" icon="ui-icon-arrowthick-1-s" ajax="false" 
								immediate="true" update=":contenido:growl" disabled="#{ref.refArchivo==null}">
							</p:commandButton>
						</p:column>


						<p:column headerText="#{i18n['label.eliminar']}" width="15">
							<p:commandButton actionListener="#{candidatoController.onRowDelReferencia(ref)}" icon="ui-icon-close" immediate="true" onclick="if(!confirm('Eliminar?')) return false;"
							process=":contenido:tblReferencia" update=":contenido:tblReferencia,:contenido:growl"></p:commandButton>
						</p:column>
						
					</p:dataTable> 					

				</p:panel> 
-->
				</h:form>
			</ui:define>
	</ui:composition>
</body>
</html>
